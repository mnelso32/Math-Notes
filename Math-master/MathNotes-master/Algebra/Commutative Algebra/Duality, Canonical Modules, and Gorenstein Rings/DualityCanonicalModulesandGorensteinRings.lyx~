#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\begin_preamble
\usepackage{tikz}
\usetikzlibrary{matrix,arrows,decorations.pathmorphing}
\usetikzlibrary{shapes.geometric}
\usepackage{tikz-cd}
\usepackage{amsthm}
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{prop}{Proposition}[section]
\newtheorem*{cor}{Corollary}
\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]
\newtheorem{ex}{Exercise} 
\newtheorem{example}{Example}[section]
\theoremstyle{remark}
\newtheorem*{rem}{Remark}
\newtheorem*{note}{Note}
\newtheorem{case}{Case}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{tikz-cd}
\usetikzlibrary{calc,arrows,decorations.pathreplacing}
\tikzset{mydot/.style={circle,fill,inner sep=1.5pt},
commutative diagrams/.cd,
  arrow style=tikz,
  diagrams={>=latex},
}

\usepackage{babel}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}
\usepackage{pgfplots}
\usetikzlibrary{decorations.markings}
\pgfplotsset{compat=1.9}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding iso8859-15
\fontencoding global
\font_roman "palatino" "default"
\font_sans "lmss" "default"
\font_typewriter "lmtt" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf true
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize 12
\spacing single
\use_hyperref false
\papersize custom
\use_geometry true
\use_package amsmath 2
\use_package amssymb 2
\use_package cancel 0
\use_package esint 1
\use_package mathdots 0
\use_package mathtools 0
\use_package mhchem 0
\use_package stackrel 0
\use_package stmaryrd 0
\use_package undertilde 0
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\paperwidth 30cm
\paperheight 35cm
\topmargin 3cm
\bottommargin 3cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation 0bp
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
Duality, Canonical Modules, and Gorenstein Rings
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Suppose 
\begin_inset Formula $K$
\end_inset

 is a field and that 
\begin_inset Formula $A$
\end_inset

 is a local zero-dimensional ring that is a finite-dimensional 
\begin_inset Formula $K$
\end_inset

-algebra.
 If we wish to imitate the usual duality theory for vector spaces, we might
 at first try to work with the functor
\begin_inset Formula 
\[
M\mapsto M^{\star}:=\text{Hom}_{A}(M,A).
\]

\end_inset

But this is often very badly behaved; for example, it does not usually preserve
 exact sequences, and if we do it twice we do not get the identity: That
 is, 
\begin_inset Formula $\text{Hom}_{A}(\text{Hom}_{A}(M,A),A)\not\cong M$
\end_inset

 in general.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{example}
\backslash
label{example}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a ring and 
\begin_inset Formula $I$
\end_inset

 an ideal in 
\begin_inset Formula $A$
\end_inset

.
 Then
\begin_inset Formula 
\[
\text{Hom}_{A}(A/I,A)\cong\text{Ann}_{A}(I):=\{x\in A\mid xI=0\}\qquad\text{and}\qquad\text{Hom}_{A}(\text{Ann}_{A}(I),A))
\]

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{example}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{example}
\backslash
label{example1}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A=K[x,y]/\langle x^{2},xy^{2},y^{3}\rangle$
\end_inset

 and 
\begin_inset Formula $I=\langle\overline{x}\rangle$
\end_inset

.
 Then 
\begin_inset Formula $\text{Hom}_{A}(A/I,A)\cong\text{Ann}(I)=\langle\overline{x}\overline{y},\overline{y}^{2}\rangle$
\end_inset

 and 
\begin_inset Formula 
\[
\text{Hom}_{A}(A/I,A)\cong\text{Ann}(I)=\langle\overline{x}\overline{y},\overline{y}^{2}\rangle\qquad\text{and}\qquad\text{Hom}_{A}\left(\text{Ann}(I),A\right)
\]

\end_inset

.
 Taking the dual again, 
\begin_inset Formula $\text{Hom}_{A}\left(\langle\overline{x},\overline{y}^{2}\rangle,A\right)$
\end_inset


\begin_inset Formula 
\begin{align*}
\text{Hom}_{A}(A/I,A) & \cong\text{Ann}_{A}(I)\\
 & \cong\\
\end{align*}

\end_inset


\begin_inset Formula 
\[
\text{Hom}_{A}(M,A)\cong\text{Ann}\left(\langle x,y^{3}\rangle\right)=\langle x,y^{2}\rangle=Kx+Kxy+Ky^{2},
\]

\end_inset


\end_layout

\begin_layout Standard
but one can check that 
\begin_inset Formula $\text{Hom}_{A}\left(\langle x,y^{2}\rangle,A\right)$
\end_inset

 is a six-dimensional 
\begin_inset Formula $K$
\end_inset

-vector space.
 So 
\begin_inset Formula $A/I\not\cong(A/I)^{\star\star}$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{example}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

A good duality theory may be defined in a different way: If 
\begin_inset Formula $M$
\end_inset

 is a finitely generated 
\begin_inset Formula $A$
\end_inset

-module, we provisionally define the dual of 
\begin_inset Formula $M$
\end_inset

 to be 
\begin_inset Formula 
\[
D(M)=\text{Hom}_{K}(M,K)
\]

\end_inset

(we shall give a more intrinsic definition shortly).
 The vector space 
\begin_inset Formula $D(M)$
\end_inset

 is naturally an 
\begin_inset Formula $A$
\end_inset

-module by the action 
\begin_inset Formula 
\[
(a\cdot\varphi)(m)=\varphi(am)
\]

\end_inset

for all 
\begin_inset Formula $\varphi\in D(M)$
\end_inset

, 
\begin_inset Formula $a\in A$
\end_inset

, and 
\begin_inset Formula $m\in M$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{example}
\end_layout

\end_inset

 Returning to 
\begin_inset ERT
status open

\begin_layout Plain Layout

Example~(
\backslash
ref{example1})
\end_layout

\end_inset

, we see that 
\begin_inset Formula $D(A/I)=K\varphi_{x}+K\varphi_{xy}$
\end_inset

, where 
\begin_inset Formula $\varphi_{x}(x)=1$
\end_inset

, 
\begin_inset Formula $\varphi_{x}(xy)=0$
\end_inset

 and 
\begin_inset Formula $\varphi_{xy}(x)=0$
\end_inset

 and 
\begin_inset Formula $\varphi_{xy}(xy)=1$
\end_inset

.
 Then 
\begin_inset Formula $x\cdot\varphi_{x}=0$
\end_inset

 since 
\begin_inset Formula 
\begin{align*}
x\cdot\varphi_{x}(xy) & =\varphi_{x}(x^{2}y)\\
 & =\varphi_{x}(0)\\
 & =0
\end{align*}

\end_inset

 and
\begin_inset Formula 
\begin{align*}
x\cdot\varphi_{x}(x) & =\varphi_{x}(x^{2})\\
 & =\varphi_{x}(0)\\
 & =0.
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
Similarly, one can show that 
\begin_inset Formula $x\cdot\varphi_{xy}=0$
\end_inset

, 
\begin_inset Formula $y\cdot\varphi_{x}=0$
\end_inset

, and 
\begin_inset Formula $y\cdot\varphi_{xy}=\varphi_{x}$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{example}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

With 
\begin_inset Formula $D$
\end_inset

 defined above, we see that 
\begin_inset Formula $D$
\end_inset

 a contravariant functor from the category of finitely generated 
\begin_inset Formula $A$
\end_inset

-modules to itself.
 Since 
\begin_inset Formula $M$
\end_inset

 is finite-dimensional over 
\begin_inset Formula $K$
\end_inset

, the natural map 
\begin_inset Formula $M\to D(D(M))$
\end_inset

 sending 
\begin_inset Formula $m\in M$
\end_inset

 to the functional 
\begin_inset Formula $\widehat{m}:\varphi\mapsto\varphi(m)$
\end_inset

, for 
\begin_inset Formula $\varphi\in\text{Hom}_{K}(M,K)$
\end_inset

 is an isomorphism of vector spaces.
 In fact, it is an isomophism of 
\begin_inset Formula $A$
\end_inset

-modules.
 Indeed, we have 
\begin_inset Formula $\widehat{am}=a\cdot\widehat{m}$
\end_inset

 since 
\begin_inset Formula 
\begin{align*}
\left(a\cdot\widehat{m}\right)\left(\varphi\right) & =\widehat{m}\left(a\cdot\varphi\right)\\
 & =\left(a\cdot\varphi\right)\left(m\right)\\
 & =\varphi\left(am\right)\\
 & =\widehat{am}(\varphi)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
for all 
\begin_inset Formula $\varphi\in D(M)$
\end_inset

.
 Since 
\begin_inset Formula $K$
\end_inset

 is a field, 
\begin_inset Formula $D$
\end_inset

 is 
\series bold
exact 
\series default
in the sense that it takes exact sequences to exact sequences (with arrows
 reversed).
 Thus 
\begin_inset Formula $D$
\end_inset

 is a 
\series bold
dualizing functor 
\series default
on the category of finitely generated 
\begin_inset Formula $A$
\end_inset

-modules.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

To get an idea of how 
\begin_inset Formula $D$
\end_inset

 acts, note first that if 
\begin_inset Formula $\mathfrak{p}$
\end_inset

 is a maximal ideal of 
\begin_inset Formula $A$
\end_inset

, then any dualizing functor 
\begin_inset Formula $D$
\end_inset

 takes the simple module 
\begin_inset Formula $A/\mathfrak{p}$
\end_inset

 to itself.
 Indeed, 
\begin_inset Formula $D(A/\mathfrak{p})$
\end_inset

 must be simple, because else it would have a proper factor module 
\begin_inset Formula $M$
\end_inset

 and 
\begin_inset Formula $D(M)$
\end_inset

 would be a proper submodule of 
\begin_inset Formula $A/\mathfrak{p}$
\end_inset

.
 As 
\begin_inset Formula $A$
\end_inset

 is local, it has only one simple module, and thus 
\begin_inset Formula $D(A/\mathfrak{p})\cong A/\mathfrak{p}$
\end_inset

.
 Since 
\begin_inset Formula $D$
\end_inset

 takes exact sequences to exact sequences, reversing the arrows, 
\begin_inset Formula $D$
\end_inset

 
\begin_inset Quotes eld
\end_inset

turns composition series upside down
\begin_inset Quotes erd
\end_inset

 in the sense that if 
\begin_inset Formula 
\[
0\subset M_{1}\subset\cdots\subset M_{n}\subset M
\]

\end_inset

is a chain of modules with simple quotients 
\begin_inset Formula $M_{i}/M_{i-1}\cong A/\mathfrak{p}$
\end_inset

, then 
\begin_inset Formula 
\[
D(M)\supset D(M_{n})\supset\cdots\supset D(M_{1})\supset D(0)=0
\]

\end_inset

is a chain of surjections whose kernels 
\begin_inset Formula $N_{i}$
\end_inset

 are simple.
 In particular, for any module of finite length, then length of 
\begin_inset Formula $D(M)$
\end_inset

 equals the length of 
\begin_inset Formula $M$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

A central role in the theory of modules over a local ring 
\begin_inset Formula $(A,\mathfrak{p})$
\end_inset

 is played by what might be thought of as the 
\series bold
top 
\series default
of a module 
\begin_inset Formula $M$
\end_inset

, defined to be the quotient 
\begin_inset Formula $\text{Top}(M):=M/\mathfrak{p}M$
\end_inset

; Nakayama's lemma shows that this quotient controls the generators of 
\begin_inset Formula $M$
\end_inset

.
 It could be defined categorically as the largest quotient of 
\begin_inset Formula $M$
\end_inset

 that is a direct sum of simple modules.
 That is, 
\begin_inset Formula 
\[
M/\mathfrak{p}M=\bigoplus_{i}\left(A/\mathfrak{p}\right).
\]

\end_inset


\end_layout

\begin_layout Standard
The dual notion is that of the 
\series bold
socle 
\series default
of 
\begin_inset Formula $M$
\end_inset

, denoted 
\begin_inset Formula $\text{Soc}(M)$
\end_inset

: It is defined as the annihilator in 
\begin_inset Formula $M$
\end_inset

 of the maximal ideal 
\begin_inset Formula $\mathfrak{p}$
\end_inset

, or equivalently, as the sum of all the simple submodules of 
\begin_inset Formula $M$
\end_inset

.
 Note that since the top of 
\begin_inset Formula $A$
\end_inset

 is 
\begin_inset Formula $A/\mathfrak{p}$
\end_inset

, a simple module, the socle of 
\begin_inset Formula $D(A)$
\end_inset

 must be a simple module as well.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{example}
\backslash
label{example}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A=K[x,y]/\langle x^{2},y^{3}\rangle$
\end_inset

.
 Then 
\begin_inset Formula $\text{Soc}(A)=Kxy^{2}$
\end_inset

 and 
\begin_inset Formula $\text{Top}(A)=K$
\end_inset

.
 To calculate 
\begin_inset Formula $D(A)$
\end_inset

, we first write 
\begin_inset Formula $A$
\end_inset

 as a 
\begin_inset Formula $K$
\end_inset

-vector space:
\begin_inset Formula 
\[
A=K+Kx+Ky+Kxy+Ky^{2}+Kxy^{2}.
\]

\end_inset

Then a dual basis for 
\begin_inset Formula $D(A)$
\end_inset

 is given by 
\begin_inset Formula 
\[
D(A)=K\varphi_{1}+K\varphi_{x}+K\varphi_{y}+K\varphi_{xy}+K\varphi_{y^{2}}+K\varphi_{xy^{2}}.
\]

\end_inset

Then one can check that 
\begin_inset Formula $\text{Soc}(D(A))=K\varphi_{1}$
\end_inset

 and 
\begin_inset Formula $\text{Top}(D(A))=K\varphi_{xy^{2}}$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{example}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{rem}
\backslash
label{rem}
\end_layout

\end_inset

 This remark is for those who are familiar with the Koszul Complex construction.
 Let 
\begin_inset Formula $(A,\mathfrak{p})$
\end_inset

 be a local ring and suppose 
\begin_inset Formula $\mathfrak{p}=\langle x_{1},\dots,x_{n}\rangle$
\end_inset

.
 Then 
\begin_inset Formula 
\begin{align*}
H_{n}(K(x_{1},\dots,x_{n};M) & \cong\text{Soc}(M)\\
H_{0}(K(x_{1},\dots,x_{n};M) & \cong\text{Top}(M)
\end{align*}

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{rem}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Any dualizing functor preserves endomorphism rings; more generally, 
\begin_inset Formula $\text{Hom}_{A}(D(M),D(N))\cong\text{Hom}_{A}(N,M)$
\end_inset

.
 In particular, 
\begin_inset Formula $D(A)$
\end_inset

 is a module with endomorphism ring 
\begin_inset Formula $A$
\end_inset

.
 To see this, consider the mappings given by applying 
\begin_inset Formula $D:$
\end_inset

 
\begin_inset Formula 
\[
\text{Hom}_{A}(M,N)\to\text{Hom}_{A}(D(N),D(M))\to\text{Hom}_{A}(M,N)\to\text{Hom}_{A}(D(N),D(M)).
\]

\end_inset

Since 
\begin_inset Formula $D^{2}\cong1$
\end_inset

, the composite of two successive maps in this sequence is an isomorphism,
 so each of the maps is an isomorphism too.
 For instance, suppose 
\begin_inset Formula $\varphi\in\text{Hom}_{A}(M,N)$
\end_inset

 was in the first map, that is, 
\begin_inset Formula $D(\varphi)=0$
\end_inset

.
 Then 
\begin_inset Formula $D^{2}(\varphi)=0$
\end_inset

 implies 
\begin_inset Formula $\varphi=0$
\end_inset

 since 
\begin_inset Formula $D^{2}$
\end_inset

 is an isomorphism, which shows the map 
\begin_inset Formula $D:\text{Hom}_{A}(M,N)\to\text{Hom}_{A}(D(N),D(M))$
\end_inset

 is injective.
 Next, suppose 
\begin_inset Formula $\varphi\in\text{Hom}_{A}(D(N),D(M))$
\end_inset

.
 Since 
\begin_inset Formula $D^{2}$
\end_inset

 is an isomorphism, there exists a 
\begin_inset Formula $\psi\in\text{Hom}_{A}(D(N),D(M)$
\end_inset

 such that 
\begin_inset Formula $D^{2}(\psi)=\varphi$
\end_inset

.
 Then 
\begin_inset Formula $D(\psi)\in\text{Hom}_{A}(M,N)$
\end_inset

 and 
\begin_inset Formula $D(D(\psi))=\varphi$
\end_inset

, which shows the map 
\begin_inset Formula $D:\text{Hom}_{A}(M,N)\to\text{Hom}_{A}(D(N),D(M))$
\end_inset

 is surjective.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{prop}
\backslash
label{prop21.1}
\end_layout

\end_inset

 Let 
\begin_inset Formula $(A,\mathfrak{m})$
\end_inset

 be a local zero-dimensional ring.
 If 
\begin_inset Formula $E$
\end_inset

 is any dualizing functor from the category of finitely generated 
\begin_inset Formula $A$
\end_inset

-modules to itself, then there is an isomorphism of functors 
\begin_inset Formula $E(-)\cong\text{Hom}_{A}(-,E(A))$
\end_inset

.
 Further, 
\begin_inset Formula $E(A)$
\end_inset

 is isomorphic to the injective hull of 
\begin_inset Formula $A/\mathfrak{m}$
\end_inset

.
 Thus there is up to isomorphism at most one dualizing functor.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{prop}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 Since 
\begin_inset Formula $E^{2}\cong1$
\end_inset

 as functors, the map 
\begin_inset Formula $\text{Hom}_{A}(M,N)\to\text{Hom}_{A}(E(N),E(M))$
\end_inset

 given by 
\begin_inset Formula $\varphi\mapsto E(\varphi)$
\end_inset

 is an isomorphism.
 Thus, there is an isomorphism, functorial in 
\begin_inset Formula $M$
\end_inset

, 
\begin_inset Formula 
\[
E(M)\cong\text{Hom}_{A}(A,E(M))\cong\text{Hom}_{A}(E(E(M)),E(A))\cong\text{Hom}_{A}(M,E(A)).
\]

\end_inset

This proves the first statement.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Since 
\begin_inset Formula $A$
\end_inset

 is projective, 
\begin_inset Formula $E(A)$
\end_inset

 is injective.
 As we observed above, 
\begin_inset Formula $A$
\end_inset

 has a simple top, so 
\begin_inset Formula $E(A)$
\end_inset

 has a simple socle.
 Because 
\begin_inset Formula $A$
\end_inset

 is zero-dimensional, every module contains simple submodules.
 The socle of a module 
\begin_inset Formula $M$
\end_inset

 contains all the simple submodules of 
\begin_inset Formula $M$
\end_inset

, and thus meets every submodule of 
\begin_inset Formula $M$
\end_inset

; that is, it is an essential submodule of 
\begin_inset Formula $M$
\end_inset

.
 Since 
\begin_inset Formula $A/\mathfrak{m}$
\end_inset

 appears as an essential submodule of 
\begin_inset Formula $E(A)$
\end_inset

, we see that 
\begin_inset Formula $E(A)$
\end_inset

 is an injective hull of 
\begin_inset Formula $A/\mathfrak{m}$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

With 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.1})
\end_layout

\end_inset

 for justification, we define the 
\series bold
canonical module 
\series default

\begin_inset Formula $\omega_{A}$
\end_inset

 of a local zero-dimensional ring 
\begin_inset Formula $A$
\end_inset

 to be the injective hull of the residue class field of 
\begin_inset Formula $A$
\end_inset

.
 By 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.1})
\end_layout

\end_inset

, any 
\series bold
dualizing functor 
\series default

\begin_inset Formula $D$
\end_inset

 on the category of finitely generated 
\begin_inset Formula $A$
\end_inset

-modules must be 
\begin_inset Formula $D(M):=\text{Hom}_{A}(M,\omega_{A})$
\end_inset

, and in fact this functor is always dualizing.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{prop}
\backslash
label{prop21.2}
\end_layout

\end_inset

 Let 
\begin_inset Formula $(A,\mathfrak{m})$
\end_inset

 be a local zero-dimensional ring.
 Then the functor 
\begin_inset Formula $M\mapsto D(M):=\text{Hom}_{A}(M,\omega_{A})$
\end_inset

 is a dualizing functor on the category of finitely generated 
\begin_inset Formula $A$
\end_inset

-modules.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{prop}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 The 
\begin_inset Formula 
\[
\text{Hom}_{A}(M,N)\to\text{Hom}_{A}(D(N),D(M))
\]

\end_inset

is given by 
\begin_inset Formula $\lambda\mapsto\lambda^{\star}$
\end_inset

, where 
\begin_inset Formula $\lambda^{\star}(\varphi)=\varphi\circ\lambda$
\end_inset

, 
\begin_inset Formula $\lambda\in\text{Hom}_{A}(M,N)$
\end_inset

 and 
\begin_inset Formula $\varphi\in D(N)$
\end_inset

.
 Then 
\begin_inset Formula $\left(a\lambda+b\mu\right)^{\star}=a\lambda^{\star}+b\mu^{\star}$
\end_inset

 for all 
\begin_inset Formula $a,b\in A$
\end_inset

 and 
\begin_inset Formula $\lambda,\mu\in\text{Hom}_{A}(M,N)$
\end_inset

 shows 
\begin_inset Formula $D$
\end_inset

 is 
\begin_inset Formula $A$
\end_inset

-linear.
 Also, 
\begin_inset Formula $D$
\end_inset

 is exact because 
\begin_inset Formula $\omega_{A}$
\end_inset

 is injective.
 Thus it suffices to show that 
\begin_inset Formula $D^{2}$
\end_inset

 is isomorphic to the identity.
 Let 
\begin_inset Formula $\alpha:1\to D^{2}$
\end_inset

 be the natural transformation given by maps
\begin_inset Formula 
\[
\alpha_{M}:M\to\text{Hom}_{A}(\text{Hom}_{A}(M,\omega_{A}),\omega_{A})
\]

\end_inset

given by mapping 
\begin_inset Formula $m\mapsto\widehat{m}$
\end_inset

 where 
\begin_inset Formula $m\in M$
\end_inset

 and 
\begin_inset Formula $\widehat{m}$
\end_inset

 is the homomorphism taking 
\begin_inset Formula $\varphi\in\text{Hom}_{A}(M,\omega_{A})$
\end_inset

 to 
\begin_inset Formula $\varphi(m)$
\end_inset

.
 We shall show that 
\begin_inset Formula $\alpha$
\end_inset

 is an isomorphism by showing that each 
\begin_inset Formula $\alpha_{M}$
\end_inset

 is an isomorphism.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

We do induction on the length of 
\begin_inset Formula $M$
\end_inset

.
 First suppose that the length is 
\begin_inset Formula $1$
\end_inset

, so that 
\begin_inset Formula $M=A/\mathfrak{p}$
\end_inset

, where 
\begin_inset Formula $\mathfrak{p}$
\end_inset

 is the maximal ideal of 
\begin_inset Formula $A$
\end_inset

.
 Since 
\begin_inset Formula $\omega_{A}$
\end_inset

 is the injective hull of 
\begin_inset Formula $A/\mathfrak{p}$
\end_inset

, the socle of 
\begin_inset Formula $\omega_{A}$
\end_inset

 is 
\begin_inset Formula $A/\mathfrak{p}$
\end_inset

, and we have 
\begin_inset Formula $\text{Hom}_{A}(A/\mathfrak{p},\omega_{A})=A/\mathfrak{p}$
\end_inset

, generated by any nonzero map 
\begin_inset Formula $A/\mathfrak{p}\to\omega_{A}$
\end_inset

.
 Thus 
\begin_inset Formula $\text{Hom}_{A}(\text{Hom}_{A}(A/\mathfrak{p},\omega_{A}),\omega_{A})=A/\mathfrak{p}$
\end_inset

, generated by any nonzero map.
 But if 
\begin_inset Formula $1\in A/\mathfrak{p}$
\end_inset

 is the identity, then the map induced by 
\begin_inset Formula $1$
\end_inset

 takes the inclusion 
\begin_inset Formula $A/\mathfrak{p}\hookrightarrow\omega_{A}$
\end_inset

 to the image of 
\begin_inset Formula $1$
\end_inset

 under that inclusion, and is thus nonzero, so 
\begin_inset Formula $\alpha_{A/\mathfrak{p}}$
\end_inset

 is an isomorphism.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

If the length of 
\begin_inset Formula $M$
\end_inset

 is greater than 
\begin_inset Formula $1$
\end_inset

, let 
\begin_inset Formula $M'$
\end_inset

 be any proper submodule and let 
\begin_inset Formula $M''=M/M'$
\end_inset

.
 By the naturality of 
\begin_inset Formula $\alpha$
\end_inset

 and the exactness of 
\begin_inset Formula $D^{2}$
\end_inset

 it follows that there is a commutative diagram with exact rows
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 0 
\backslash
arrow[r] & M' 
\backslash
arrow[r] 
\backslash
arrow[d, " 
\backslash
alpha _M' "] & M 
\backslash
arrow[r] 
\backslash
arrow[d, " 
\backslash
alpha _M "] & M'' 
\backslash
arrow[r] 
\backslash
arrow[d, " 
\backslash
alpha _M' "] & 0
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

0 
\backslash
arrow[r] & D^2 (M') 
\backslash
arrow[r]  & D^2 (M) 
\backslash
arrow[r] & D^2 (M'') 
\backslash
arrow[r] & 0  
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Both 
\begin_inset Formula $M'$
\end_inset

 and 
\begin_inset Formula $M''$
\end_inset

 have lengths stricly less than the length of 
\begin_inset Formula $M$
\end_inset

, so the left-hand and right-hand vertical maps are isomorphisms by induction.
 It follows by an easy diagram chase that the middle map 
\begin_inset Formula $\alpha_{M}$
\end_inset

 is an isomorphism too.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{cor}
\backslash
label{cor}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a local Artinian ring.
 Then the annihilator of 
\begin_inset Formula $\omega_{A}$
\end_inset

 is 
\begin_inset Formula $0$
\end_inset

; the length of 
\begin_inset Formula $\omega_{A}$
\end_inset

 is the same as the length of 
\begin_inset Formula $A$
\end_inset

; and the endomorphism ring of 
\begin_inset Formula $\omega_{A}$
\end_inset

 is 
\begin_inset Formula $A$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{cor}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 The dualizing functor preserves annihilators, lengths, and endomorphism
 rings, and takes 
\begin_inset Formula $A$
\end_inset

 to 
\begin_inset Formula $\omega_{A}$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{prop}
\backslash
label{prop21.4}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a zero-dimensional local ring.
 Suppose that for some local ring 
\begin_inset Formula $B$
\end_inset

, 
\begin_inset Formula $A$
\end_inset

 is a 
\begin_inset Formula $B$
\end_inset

-algebra that is finitely generated as a 
\begin_inset Formula $B$
\end_inset

-module and the maximal ideal of 
\begin_inset Formula $B$
\end_inset

 maps into that of 
\begin_inset Formula $A$
\end_inset

.
 If 
\begin_inset Formula $E$
\end_inset

 is the injective hull of the residue class field of 
\begin_inset Formula $B$
\end_inset

, then 
\begin_inset Formula 
\[
\omega_{A}=\text{Hom}_{B}(A,E).
\]

\end_inset

In particular, if 
\begin_inset Formula $B$
\end_inset

 is also zero-dimensional, then 
\begin_inset Formula $\omega_{A}=\text{Hom}_{B}(A,\omega_{B})$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{prop}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 
\begin_inset Formula $\text{Hom}_{B}(A,E)$
\end_inset

 is an injective 
\begin_inset Formula $A$
\end_inset

-module (see my notes on injective modules for a proof of this).
 To show that it is the injective hull of the residue class field 
\begin_inset Formula $k$
\end_inset

 of 
\begin_inset Formula $A$
\end_inset

, it suffices to show that it is an essential extension of the residue class
 field 
\begin_inset Formula $k$
\end_inset

 of 
\begin_inset Formula $A$
\end_inset

.
 Let 
\begin_inset Formula $\mathfrak{p}$
\end_inset

 be the maximal ideal of 
\begin_inset Formula $A$
\end_inset

, and 
\begin_inset Formula $\mathfrak{p}_{B}$
\end_inset

 be the maximal ideal of 
\begin_inset Formula $B$
\end_inset

.
 The preimage of 
\begin_inset Formula $\mathfrak{p}$
\end_inset

 is a maximal ideal in 
\begin_inset Formula $B$
\end_inset

 which contains 
\begin_inset Formula $\mathfrak{p}_{B}$
\end_inset

, so it must be 
\begin_inset Formula $\mathfrak{p}_{B}$
\end_inset

.
 Therefore there is an induced homomorphism of the residue class field 
\begin_inset Formula $k_{B}$
\end_inset

 of 
\begin_inset Formula $B$
\end_inset

 to 
\begin_inset Formula $k$
\end_inset

.
 As 
\begin_inset Formula $k$
\end_inset

 is a finite dimensional vector space over 
\begin_inset Formula $k_{B}$
\end_inset

, we have 
\begin_inset Formula $k=\omega_{k}\cong\text{Hom}_{k_{B}}(k,k_{B})$
\end_inset

 as 
\begin_inset Formula $k$
\end_inset

-modules.
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Let 
\begin_inset Formula $S\subset\text{Hom}_{B}(A,E)$
\end_inset

 be the 
\begin_inset Formula $A$
\end_inset

-submodule of homomorphisms whose kernel contains 
\begin_inset Formula $\mathfrak{p}$
\end_inset

, or equivalently, such that 
\begin_inset Formula $\mathfrak{p}\varphi=0$
\end_inset

.
 The module 
\begin_inset Formula $S$
\end_inset

 is the socle of 
\begin_inset Formula $\text{Hom}_{B}(A,E)$
\end_inset

 as an 
\begin_inset Formula $A$
\end_inset

-module.
 If 
\begin_inset Formula $\varphi\in S$
\end_inset

, then since 
\begin_inset Formula $\mathfrak{p}_{B}A\subset\mathfrak{p}$
\end_inset

, the image of 
\begin_inset Formula $\varphi$
\end_inset

 is annihilated by 
\begin_inset Formula $\mathfrak{p}_{B}$
\end_inset

; that is, the image of 
\begin_inset Formula $\varphi$
\end_inset

 is in the socle of 
\begin_inset Formula $E$
\end_inset

 as a 
\begin_inset Formula $B$
\end_inset

-module, and since 
\begin_inset Formula $E$
\end_inset

 is the injective hull of 
\begin_inset Formula $k_{B}$
\end_inset

, this is 
\begin_inset Formula $k_{B}$
\end_inset

.
 Since the homomorphisms in 
\begin_inset Formula $S$
\end_inset

 all factor through the projection 
\begin_inset Formula $A\to A/\mathfrak{p}=k$
\end_inset

, we have 
\begin_inset Formula $S\cong\text{Hom}_{B}(k,k_{B})\cong k$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

If 
\begin_inset Formula $\varphi:A\to E$
\end_inset

 is any 
\begin_inset Formula $B$
\end_inset

-module homomorphism, then since 
\begin_inset Formula $\mathfrak{p}$
\end_inset

 is nilpotent, 
\begin_inset Formula $\varphi$
\end_inset

 is annihilated by a power of 
\begin_inset Formula $\mathfrak{p}$
\end_inset

, and thus there is a multiple 
\begin_inset Formula $a\varphi\neq0$
\end_inset

 that is annihilated by 
\begin_inset Formula $\mathfrak{p}$
\end_inset

.
 Thus 
\begin_inset Formula $S$
\end_inset

 is an essential 
\begin_inset Formula $A$
\end_inset

-submodule of 
\begin_inset Formula $\text{Hom}_{B}(A,E)$
\end_inset

, as required.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{defn}
\backslash
label{defn}
\end_layout

\end_inset

 A zero-dimensional local ring 
\begin_inset Formula $A$
\end_inset

 is 
\series bold
Gorenstein 
\series default
if 
\begin_inset Formula $A\cong\omega_{A}$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{defn}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{example}
\backslash
label{example1}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A=K[x,y]/\langle x^{2},y^{3}\rangle$
\end_inset

.
 Then both 
\begin_inset Formula $A$
\end_inset

 and 
\begin_inset Formula $D(A)$
\end_inset

 are graded 
\begin_inset Formula $K$
\end_inset

-modules, with homogeneous components being
\begin_inset Formula 
\begin{align*}
A_{0} & =K & D(A)_{0} & =K\varphi_{1}\\
A_{1} & =K\overline{x}+K\overline{y} & (S_{I_{\Delta}^{\text{sq}}})_{_{2}} & =K\varphi_{x}+K\varphi_{y}\\
A_{2} & =K\overline{x}\overline{y}+K\overline{y}^{2} & (S_{I_{\Delta}^{\text{sq}}})_{_{1}} & =K\varphi_{xy}+K\varphi_{y^{2}}\\
A_{3} & =K\overline{x}\overline{y}^{2} & (S_{I_{\Delta}^{\text{sq}}})_{_{0}} & =K\varphi_{xy^{2}}
\end{align*}

\end_inset

where 
\begin_inset Formula 
\[
\varphi_{\mathbf{x}^{\alpha}}\left(\overline{\mathbf{x}}^{\beta}\right)=\begin{cases}
1 & \text{if }\alpha=\beta\\
0 & \text{else . }
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Standard
One can check that 
\begin_inset Formula $A\cong D(A)$
\end_inset

 by the map 
\begin_inset Formula 
\begin{align*}
1 & \mapsto\varphi_{xy^{2}}\\
x & \mapsto\varphi_{y^{2}}\\
y & \mapsto\varphi_{xy}\\
xy & \mapsto\varphi_{y}\\
y^{2} & \mapsto\varphi_{x}\\
xy^{2} & \mapsto\varphi_{1}
\end{align*}

\end_inset

So 
\begin_inset Formula $A$
\end_inset

 is a Gorenstein ring.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{example}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{prop}
\backslash
label{prop21.5}
\end_layout

\end_inset

 Let 
\begin_inset Formula $(A,\mathfrak{m})$
\end_inset

 be a zero-dimensional local ring.
 The following are equivalent.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $A$
\end_inset

 is Gorenstein.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $A$
\end_inset

 is injective as an 
\begin_inset Formula $A$
\end_inset

-module.
\end_layout

\begin_layout Enumerate
The socle of 
\begin_inset Formula $A$
\end_inset

 is simple.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\omega_{A}$
\end_inset

 can be generated by one element.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{prop}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hfill
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hfill
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $(1\implies2)$
\end_inset

: 
\begin_inset Formula $\omega_{A}$
\end_inset

 is injective as an 
\begin_inset Formula $A$
\end_inset

-module, so if 
\begin_inset Formula $A\cong\omega_{A}$
\end_inset

, then 
\begin_inset Formula $A$
\end_inset

 is injective as an 
\begin_inset Formula $A$
\end_inset

-module.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hfill
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $(2\implies3):$
\end_inset

 As 
\begin_inset Formula $A$
\end_inset

 is a local ring, it is indecomposable as an 
\begin_inset Formula $A$
\end_inset

-module (Proof: Suppose 
\begin_inset Formula $A\cong I\oplus J$
\end_inset

 for two proper submodules 
\begin_inset Formula $I,J\subset A$
\end_inset

 (i.e.
 ideals).
 This implies there exists 
\begin_inset Formula $x\in I$
\end_inset

 and 
\begin_inset Formula $y\in J$
\end_inset

 such that 
\begin_inset Formula $x+y=1$
\end_inset

.
 But since 
\begin_inset Formula $\mathfrak{m}$
\end_inset

 is the unique maximal ideal of 
\begin_inset Formula $A$
\end_inset

, we have 
\begin_inset Formula $I\subset\mathfrak{m}$
\end_inset

 and 
\begin_inset Formula $J\subset\mathfrak{m}$
\end_inset

, and so 
\begin_inset Formula $1=x+y\in\mathfrak{m}$
\end_inset

 leads to a contradiction.) Since 
\begin_inset Formula 
\[
\text{Soc}(A)\subset\bigcup_{n=1}^{\infty}0:_{A}\mathfrak{m}^{n}=A
\]

\end_inset

is an essential extension, if 
\begin_inset Formula $A$
\end_inset

 is injective as an 
\begin_inset Formula $A$
\end_inset

-module, then it must be the injective hull of its socle.
 The injective hull of a direct sum is the direct sum of the injective hulls
 of the summands, so the socle must be simple.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hfill
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $(3\implies4):$
\end_inset

 If the socle of 
\begin_inset Formula $A$
\end_inset

 is simple, that is, isomorphic to 
\begin_inset Formula $A/\mathfrak{m}$
\end_inset

, then the 
\begin_inset Quotes eld
\end_inset

top
\begin_inset Quotes erd
\end_inset

 of the dual of 
\begin_inset Formula $A$
\end_inset

, that is the top of 
\begin_inset Formula $\omega_{A}$
\end_inset

, which is 
\begin_inset Formula $\omega_{A}/\mathfrak{m}\omega_{A}$
\end_inset

, is simple.
 By Nakayama's lemma 
\begin_inset Formula $\omega_{A}$
\end_inset

 can be generated by one element.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hfill
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $(4\implies1):$
\end_inset

 If 
\begin_inset Formula $\omega_{A}$
\end_inset

 is generated by one element then it is a homomorphic image of 
\begin_inset Formula $A$
\end_inset

.
 But 
\begin_inset Formula $A$
\end_inset

 and 
\begin_inset Formula $\omega_{A}$
\end_inset

 have the same length by 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.2})
\end_layout

\end_inset

, so 
\begin_inset Formula $A\cong\omega_{A}$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{example}
\backslash
label{example1}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A=K[x,y,z]/\langle x^{2},y^{2},xz,yz,z^{2}-xy\rangle$
\end_inset

.
 Then 
\begin_inset Formula $A$
\end_inset

 is a 
\begin_inset Formula $0$
\end_inset

-dimensional Gorenstein ring that is not a complete intersection ring.
 In more detail: a basis for 
\begin_inset Formula $A$
\end_inset

 as a 
\begin_inset Formula $K$
\end_inset

-vector space is 
\begin_inset Formula 
\[
A=K+Kx+Ky+Kz+Kz^{2}
\]

\end_inset


\end_layout

\begin_layout Standard
The ring 
\begin_inset Formula $A$
\end_inset

 is Gorenstein because the socle has dimension 
\begin_inset Formula $1$
\end_inset

 as 
\begin_inset Formula $K$
\end_inset

-vector space, namely 
\begin_inset Formula $\text{Soc}(A)=Kz^{2}$
\end_inset

.
 Finally, 
\begin_inset Formula $A$
\end_inset

 is not a complete intersection because it has 
\begin_inset Formula $3$
\end_inset

 generators and a minimal set of 
\begin_inset Formula $5$
\end_inset

 relations.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{example}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Most of the common methods of constructing Gorenstein rings work just as
 well in the case where 
\begin_inset Formula $A$
\end_inset

 is not zero-dimensional, and we shall postpone them for a moment.
 However, one technique, Macaulay's method of 
\series bold
inverse systems
\series default
, is principally of interest in the zero-dimensional case.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Let 
\begin_inset Formula $S=K[x_{1},\dots,x_{r}]$
\end_inset

.
 For each 
\begin_inset Formula $d\geq0$
\end_inset

, let 
\begin_inset Formula $S_{d}$
\end_inset

 be the vector space of forms of degree 
\begin_inset Formula $d$
\end_inset

 in the 
\begin_inset Formula $x_{i}$
\end_inset

.
 Let 
\begin_inset Formula $T=K[x_{1}^{-1},\dots,x_{r}^{-1}]\subset K(A)=K(x_{1},\dots,x_{r})$
\end_inset

 be the polynomial ring on the inverses of the 
\begin_inset Formula $x_{i}$
\end_inset

.
 We make 
\begin_inset Formula $T$
\end_inset

 into an 
\begin_inset Formula $S$
\end_inset

-module as follows: Let 
\begin_inset Formula $x^{\alpha}$
\end_inset

 be a monomial in 
\begin_inset Formula $A$
\end_inset

 and 
\begin_inset Formula $x^{\beta}$
\end_inset

 be a monomial in 
\begin_inset Formula $T$
\end_inset

, where 
\begin_inset Formula $\alpha=(\alpha_{1},\dots,\alpha_{r})\in\mathbb{Z}_{\geq0}^{r}$
\end_inset

 and 
\begin_inset Formula $\beta=(\beta_{1},\dots,\beta_{r})\in\mathbb{Z}_{\leq0}^{r}$
\end_inset

.
 Then 
\begin_inset Formula 
\[
x^{\alpha}\cdot x^{\beta}=\begin{cases}
0 & \text{if }\alpha_{i}>\beta_{i}\text{ for some }i\\
x^{\alpha+\beta} & \text{else}.
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{theorem}
\backslash
label{theorem}
\end_layout

\end_inset

 With the notation above, there is a one-to-one inclusion reversing corresponden
ce between finitely generated 
\begin_inset Formula $S$
\end_inset

-modules 
\begin_inset Formula $M\subset T$
\end_inset

 and ideal 
\begin_inset Formula $I\subset S$
\end_inset

 such that 
\begin_inset Formula $I\subset\langle x_{1},\dots,x_{r}\rangle$
\end_inset

 and 
\begin_inset Formula $A/I$
\end_inset

 is a local zero-dimensional ring, given by 
\begin_inset Formula 
\begin{align*}
M & \mapsto(0:_{S}M)\text{, the annihilator of }M\text{ in }S.\\
I & \mapsto(0:_{T}I),\text{ the submodule of }T\text{ annihilated by }I.
\end{align*}

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{theorem}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 The 
\begin_inset Formula $S$
\end_inset

-module 
\begin_inset Formula $T$
\end_inset

 may be identified with the graded dual 
\begin_inset Formula $\bigoplus_{d}\text{Hom}_{K}(S_{d},K)$
\end_inset

 of 
\begin_inset Formula $S$
\end_inset

; indeed the dual basis vector to 
\begin_inset Formula $x^{\alpha}\in S_{d}$
\end_inset

 is 
\begin_inset Formula $x^{-\alpha}\in T$
\end_inset

.
 Moreover, the graded dual is the injective hull of 
\begin_inset Formula $K=S/\langle x_{1},\dots,x_{r}\rangle$
\end_inset

 as an 
\begin_inset Formula $S$
\end_inset

-module.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Section*
Canonical Modules and Gorenstein Rings in Higher Dimension
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{defn}
\backslash
label{defn}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a local Cohen-Macaulay ring.
 A finitely generated 
\begin_inset Formula $A$
\end_inset

-module 
\begin_inset Formula $\omega_{A}$
\end_inset

 is a 
\series bold
canonical module for 
\begin_inset Formula $A$
\end_inset

 
\series default
if there is a nonzerodivisor 
\begin_inset Formula $x\in A$
\end_inset

 such that 
\begin_inset Formula $\omega_{A}/x\omega_{A}$
\end_inset

 is a canonical module for 
\begin_inset Formula $A/\langle x\rangle$
\end_inset

.
 The ring 
\begin_inset Formula $A$
\end_inset

 is 
\series bold
Gorenstein 
\series default
if 
\begin_inset Formula $A$
\end_inset

 is itself a canonical module; that is, 
\begin_inset Formula $A$
\end_inset

 is Gorenstein if there is a nonzerodivisor 
\begin_inset Formula $x\in A$
\end_inset

 such that 
\begin_inset Formula $A/\langle x\rangle$
\end_inset

 is Gorenstein.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{defn}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

The induction in this definition terminates because 
\begin_inset Formula $\text{dim}(A/\langle x\rangle)=\text{dim}(A)-1$
\end_inset

.
 We may easily unwind the induction, and say that 
\begin_inset Formula $\omega_{A}$
\end_inset

 is a canonical module if some maximal regular sequence 
\begin_inset Formula $x_{1},\dots,x_{d}$
\end_inset

 on 
\begin_inset Formula $A$
\end_inset

 is also an 
\begin_inset Formula $\omega_{A}$
\end_inset

-sequence, and 
\begin_inset Formula $\omega_{A}/\langle x_{1},\dots,x_{d}\rangle\omega_{A}$
\end_inset

 is the injective hull of the residue class field of 
\begin_inset Formula $A/\langle x_{1},\dots,x_{d}\rangle$
\end_inset

.
 Similarly, 
\begin_inset Formula $A$
\end_inset

 is Gorenstein if and only if 
\begin_inset Formula $A/\langle x_{1},\dots,x_{d}\rangle$
\end_inset

 is a zero-dimensional Gorenstein ring for some maximal regular sequence
 
\begin_inset Formula $x_{1},\dots,x_{d}$
\end_inset

.
 By Nakayama's lemma and 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.5})
\end_layout

\end_inset

, this is the case if and only if 
\begin_inset Formula $A$
\end_inset

 has a canonical module generated by one element.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

For a simple example, consider the case when 
\begin_inset Formula $A$
\end_inset

 is a regular local ring.
 We claim that 
\begin_inset Formula $A$
\end_inset

 has a canonical module, and in fact 
\begin_inset Formula $\omega_{A}=A$
\end_inset

.
 When 
\begin_inset Formula $\text{dim}(A)=0$
\end_inset

 the result is obvious, since 
\begin_inset Formula $A$
\end_inset

 is a field.
 For the general case we do inductino on the dimension.
 If we choose 
\begin_inset Formula $x$
\end_inset

 in the maximal ideal of 
\begin_inset Formula $A$
\end_inset

, but not its square, then 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor and 
\begin_inset Formula $A/x$
\end_inset

 is again a regular local ring, so 
\begin_inset Formula $A/x$
\end_inset

 is a canonical module for 
\begin_inset Formula $A/x$
\end_inset

 .
 Therefore 
\begin_inset Formula $A$
\end_inset

 is a canonical module for 
\begin_inset Formula $A$
\end_inset

, by defintion.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

There are three problems with these notions.
 First, it is not at all obvious from the definitions that they are independent
 of the nonzero divisor 
\begin_inset Formula $x$
\end_inset

 that was chosen.
 Second, something called a canonical module should at least be unique,
 and uniqueness is not clear either.
 Our first goal is to show that this independence and uniqueness do hold.
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

The third problem is that it is not obvious that a canonical module should
 even exist.
 Here we are not quite so lucky: There are local Cohen-Macaulay rings with
 no canonical module.
 However, our second goal will be to establish that canonical modules do
 exist for any Cohen-Macaulay rings that are homomorphic images of regular
 local rings (and a little more generally).
 This includes complete local rings and virtually all other rings of interest
 in algebraic geometry and number theory.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{example}
\backslash
label{example1}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A=K[x,y,z]_{\langle x,y,z\rangle}/\langle xy,xz,yz\rangle$
\end_inset

.
 Then 
\begin_inset Formula $x+y+z$
\end_inset

 is a nonzerodivisor in 
\begin_inset Formula $A$
\end_inset

, and
\begin_inset Formula 
\[
A/\langle x+y+z\rangle=K[x,y,z]_{\langle x,y,z\rangle}/\langle x+y+z,xy,xz,yz\rangle\cong K[y,z]_{\langle y,z\rangle}/\langle y^{2},yz,z^{2}\rangle=K+Ky+Kz,
\]

\end_inset

which does not have a simple socle, so this is not Gorenstein.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{example}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{example}
\backslash
label{example1}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A=K[x,y,z]_{\langle x,y,z\rangle}/\langle x+y+z,xz,yz\rangle$
\end_inset

.
 Then 
\begin_inset Formula $x+y+z$
\end_inset

 is a nonzerodivisor in 
\begin_inset Formula $A$
\end_inset

, and
\begin_inset Formula 
\[
A/\langle x+y+z\rangle=K[x,y,z]_{\langle x,y,z\rangle}/\langle x+y+z,xy,xz,yz\rangle\cong K[y,z]_{\langle y,z\rangle}/\langle y^{2},yz,z^{2}\rangle=K+Ky+Kz,
\]

\end_inset

which does not have a simple socle, so this is not Gorenstein.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{example}
\end_layout

\end_inset


\end_layout

\begin_layout Section*
Maximal Cohen-Macaulay Modules
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{prop}
\backslash
label{prop21.9}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a local ring of dimension 
\begin_inset Formula $d$
\end_inset

, and let 
\begin_inset Formula $M$
\end_inset

 be a finitely generated 
\begin_inset Formula $A$
\end_inset

-module.
 The following conditions are equivalent:
\end_layout

\begin_layout Enumerate
Every system of parameters in 
\begin_inset Formula $A$
\end_inset

 is an 
\begin_inset Formula $M$
\end_inset

-sequence.
\end_layout

\begin_layout Enumerate
Some system of parameters in 
\begin_inset Formula $A$
\end_inset

 is an 
\begin_inset Formula $M$
\end_inset

-sequence.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\text{depth}(M)=d$
\end_inset

.
\end_layout

\begin_layout Standard
If these conditions are satisfied, we say that 
\begin_inset Formula $M$
\end_inset

 is a 
\series bold
maximal Cohen-Maculay module over 
\begin_inset Formula $A$
\end_inset


\series default
.
 Every element outside the minimal primes of 
\begin_inset Formula $A$
\end_inset

 is a nonzero divisor on 
\begin_inset Formula $M$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{prop}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 The implications 1
\begin_inset Formula $\implies$
\end_inset

2
\begin_inset Formula $\implies$
\end_inset

3 are immediate from the definitions.
 Suppose 
\begin_inset Formula $\text{depth}(M)=d$
\end_inset

.
 If 
\begin_inset Formula $x_{1},\dots,x_{d}$
\end_inset

 is a system of parameters then 
\begin_inset Formula $Q=\langle x_{1},\dots,x_{d}\rangle$
\end_inset

 is 
\begin_inset Formula $\mathfrak{m}$
\end_inset

-primary.
 In particular, 
\begin_inset Formula $\sqrt{Q}=\mathfrak{m}$
\end_inset

.
 Therefore
\begin_inset Formula 
\[
\text{depth}(Q,M)=\text{depth}(\mathfrak{m},M)=d,
\]

\end_inset

which implies 
\begin_inset Formula $x_{1},\dots,x_{d}$
\end_inset

 is a regular sequence on 
\begin_inset Formula $M$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

To prove the last statement, note that if 
\begin_inset Formula $x_{1}$
\end_inset

 is not in any minimal prime of 
\begin_inset Formula $A$
\end_inset

, then 
\begin_inset Formula $\text{dim}(A/x_{1})=\text{dim}(A)-1$
\end_inset

, so a system of parameters mod 
\begin_inset Formula $x_{1}$
\end_inset

 may be lifted to a system of parameters for 
\begin_inset Formula $A$
\end_inset

 beginning with 
\begin_inset Formula $x_{1}$
\end_inset

.
 Thus, 
\begin_inset Formula $x_{1}$
\end_inset

 is a nonzero divisor on 
\begin_inset Formula $M$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{cor}
\backslash
label{cor}
\end_layout

\end_inset

 Let 
\begin_inset Formula $(A,\mathfrak{m})$
\end_inset

 be a local ring of dimension 
\begin_inset Formula $d$
\end_inset

, 
\begin_inset Formula $Q=\langle x_{1},\dots,x_{d}\rangle$
\end_inset

 and 
\begin_inset Formula $\mathfrak{m}$
\end_inset

-primary ideal, and 
\begin_inset Formula $M$
\end_inset

 a maximal Cohen-Macaulay module over 
\begin_inset Formula $A$
\end_inset

.
 Then
\begin_inset Formula 
\[
\text{Gr}_{\mathfrak{q}}(M)\cong\text{Gr}_{\mathfrak{q}}(A)\otimes_{A}M.
\]

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{cor}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

In case 
\begin_inset Formula $A$
\end_inset

 is zero-dimensional, all finitely generated modules are maximal Cohen-Macaulay
 modules.
 On the other hand, if 
\begin_inset Formula $A$
\end_inset

 is a regular local ring, then by the Auslander-Buchsbaum formula, the maximal
 Cohen-Macaulay 
\begin_inset Formula $A$
\end_inset

-modules are exactly the free 
\begin_inset Formula $A$
\end_inset

-modules.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

More generally, if 
\begin_inset Formula $A$
\end_inset

 is a finitely generated module over some regular local ring 
\begin_inset Formula $S$
\end_inset

 of dimension 
\begin_inset Formula $d$
\end_inset

, then by the Auslander-Buchsbaum theorem, the maximal Cohen-Macaulay modules
 over 
\begin_inset Formula $A$
\end_inset

 are those 
\begin_inset Formula $A$
\end_inset

-modules that are free as 
\begin_inset Formula $S$
\end_inset

-modules.
 Thus maximal Cohen-Macaulay modules may be thought of as representations
 of 
\begin_inset Formula $A$
\end_inset

 as a ring of matrices over a regular local ringas such they generalize
 the objects studied in integral representation theory of finite groups
 under the name 
\series bold
lattices
\series default
.
 We shall exploit the following example.
 If 
\begin_inset Formula $B=A/J$
\end_inset

 is a homomorphic image of 
\begin_inset Formula $A$
\end_inset

 such that 
\begin_inset Formula $B$
\end_inset

 is again Cohen-Macaulay of dimension 
\begin_inset Formula $d$
\end_inset

 as a ring, then 
\begin_inset Formula $B$
\end_inset

 is a Cohen-Macaulay 
\begin_inset Formula $A$
\end_inset

-module.
 
\end_layout

\begin_layout Subsection*
Modules of Finite Injective Dimension
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lemma}
\backslash
label{2}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a ring, 
\begin_inset Formula $B$
\end_inset

 an 
\begin_inset Formula $A$
\end_inset

-algebra, 
\begin_inset Formula $E$
\end_inset

 an injective 
\begin_inset Formula $A$
\end_inset

-module, and 
\begin_inset Formula $P$
\end_inset

 a projective 
\begin_inset Formula $B$
\end_inset

-module.
 Then 
\begin_inset Formula $\text{Hom}_{A}(P,E)$
\end_inset

 is an injective 
\begin_inset Formula $B$
\end_inset

-module, where 
\begin_inset Formula $B$
\end_inset

 acts on 
\begin_inset Formula $\text{Hom}_{A}(P,E)$
\end_inset

 by 
\begin_inset Formula 
\[
(b\cdot\varphi)(x)=\varphi(bx),
\]

\end_inset

where 
\begin_inset Formula $b\in B$
\end_inset

, 
\begin_inset Formula $\varphi\in\text{Hom}_{A}(P,E)$
\end_inset

, and 
\begin_inset Formula $x\in P$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{lemma}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 We need to show that 
\begin_inset Formula $\text{Hom}_{B}(-,\text{Hom}_{A}(P,E))$
\end_inset

 is exact.
 From the universal property of tensor products, we have 
\begin_inset Formula 
\[
\text{Hom}_{B}(-,\text{Hom}_{A}(P,E))\cong\text{Hom}_{A}(-\otimes_{B}P,E).
\]

\end_inset

Now notice that the functor 
\begin_inset Formula $-\otimes_{B}P$
\end_inset

 is exact since 
\begin_inset Formula $P$
\end_inset

 is projective.
 As 
\begin_inset Formula $E$
\end_inset

 is injective, it follows that 
\begin_inset Formula $\text{Hom}_{A}(-,E)$
\end_inset

 is exact.
 Combine both to obtain the result.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{prop}
\backslash
label{prop21.10}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a ring, 
\begin_inset Formula $M$
\end_inset

 be an 
\begin_inset Formula $A$
\end_inset

-module, 
\begin_inset Formula $x\in A$
\end_inset

 be an 
\begin_inset Formula $A$
\end_inset

-regular and 
\begin_inset Formula $M$
\end_inset

-regular element, and 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 
\backslash
mathcal{E} : E_0  
\backslash
arrow[r, "
\backslash
varphi _1 "] & E_1  
\backslash
arrow[r, " 
\backslash
varphi _2 "] & E_2  
\backslash
arrow[r] & 
\backslash
cdots  
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
be a minimal injective resolution of 
\begin_inset Formula $M$
\end_inset

.
 Set 
\begin_inset Formula $E_{i}':=\text{Hom}_{A}(A/x,E_{i})\cong\left\{ m\in E_{i}\mid xm=0\right\} $
\end_inset

.
 The complex
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd}  
\backslash
mathcal{E'} : E_1 '  
\backslash
arrow[r, "
\backslash
varphi _2 "] & E_2 '  
\backslash
arrow[r, " 
\backslash
varphi _3 "] & E_3 '  
\backslash
arrow[r] & 
\backslash
cdots  
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
is a minimal injective resolution of 
\begin_inset Formula $M/xM$
\end_inset

 over 
\begin_inset Formula $A/x$
\end_inset

.
 Thus, 
\begin_inset Formula 
\[
\text{id}_{A/x}(M/xM)=\text{id}_{A}(M)-1.
\]

\end_inset


\end_layout

\begin_layout Standard
and if 
\begin_inset Formula $N$
\end_inset

 is an 
\begin_inset Formula $A$
\end_inset

-module annihilated by 
\begin_inset Formula $x$
\end_inset

, then 
\begin_inset Formula 
\[
\text{Ext}_{A}^{i+1}(N,M)\cong\text{Ext}_{A/x}^{i}(N,M/xM)
\]

\end_inset


\end_layout

\begin_layout Standard
for all 
\begin_inset Formula $i\geq0$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{prop}
\end_layout

\end_inset

 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout

Lemma~(
\backslash
ref{2})
\end_layout

\end_inset

 tells us that 
\begin_inset Formula $E_{i}'$
\end_inset

 are injective 
\begin_inset Formula $(A/x)$
\end_inset

-modules.
 The homology of the complex 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd}  
\backslash
text{Hom}_A (A/x , 
\backslash
mathcal{E} ) : E_0 ' 
\backslash
arrow[r, "
\backslash
varphi _1 "] & E_1 '  
\backslash
arrow[r, "
\backslash
varphi _2 "] & E_2 '  
\backslash
arrow[r, " 
\backslash
varphi _3 "] & E_3 '  
\backslash
arrow[r] & 
\backslash
cdots  
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
is by definintion 
\begin_inset Formula $\text{Ext}_{A}^{*}(A/x,M)$
\end_inset

.
 On the other hand, 
\begin_inset Formula $M$
\end_inset

 is an essential submodule of 
\begin_inset Formula $E_{0}$
\end_inset

, and 
\begin_inset Formula $M$
\end_inset

 contains no submodule annihilated by 
\begin_inset Formula $x$
\end_inset

, so 
\begin_inset Formula $E_{0}$
\end_inset

 contains no submodule annihilated by 
\begin_inset Formula $x$
\end_inset

.
 Thus 
\begin_inset Formula $E_{0}'=0$
\end_inset

, and we see that 
\begin_inset Formula $\text{Hom}_{A}(A/x,\mathcal{E})=\mathcal{E}'$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Computing 
\begin_inset Formula $\text{Ext}_{A}^{*}(A/x,M)$
\end_inset

 instead from the free resolution
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 0 
\backslash
arrow[r] & A 
\backslash
arrow[r, " 
\backslash
cdot x "] & A 
\backslash
arrow[r] & A/x 
\backslash
arrow[r] & 0, 
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
we see that 
\begin_inset Formula $\text{Ext}_{A}^{1}(A/x,M)=M/xM$
\end_inset

 while 
\begin_inset Formula $\text{Ext}_{A}^{i}(A/x,M)=0$
\end_inset

 for 
\begin_inset Formula $i\neq1$
\end_inset

.
 Thus, 
\begin_inset Formula $\mathcal{E}'$
\end_inset

 is an injective resolution of 
\begin_inset Formula $M/xM$
\end_inset

.
 Note that the numbering of the terms of 
\begin_inset Formula $\mathcal{E}'$
\end_inset

 is such that 
\begin_inset Formula $\text{Ext}_{A/x}^{i}(N,M/xM)$
\end_inset

 is the homology of 
\begin_inset Formula $\text{Hom}_{A/x}(N,\mathcal{E}')$
\end_inset

 at 
\begin_inset Formula $\text{Hom}_{A/x}(N,E_{j+1}');$
\end_inset

 strictly speaking, we should say that 
\begin_inset Formula $\mathcal{E}'[1]$
\end_inset

 is an injective resolution of 
\begin_inset Formula $M/xM$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

To see that 
\begin_inset Formula $\mathcal{E}'$
\end_inset

 is minimal, note that 
\begin_inset Formula $\text{Ker}\left(\varphi_{n+1}:E_{n}'\to E_{n+1}'\right)$
\end_inset

 is the intersection of the essential submodule 
\begin_inset Formula $\text{Ker}\left(\varphi_{n+1}:E_{n}\to E_{n+1}\right)$
\end_inset

 with 
\begin_inset Formula $E_{n}'$
\end_inset

, and is thus essential in 
\begin_inset Formula $E_{n}'$
\end_inset

.
 It follows at once that 
\begin_inset Formula $\text{id}_{A/x}(M/xM)=\text{id}_{A}(M)-1$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

If 
\begin_inset Formula $x$
\end_inset

 annihilates the 
\begin_inset Formula $A$
\end_inset

-module 
\begin_inset Formula $N$
\end_inset

, then every map from 
\begin_inset Formula $N$
\end_inset

 to an 
\begin_inset Formula $E_{i}$
\end_inset

 has image killed by 
\begin_inset Formula $x$
\end_inset

, so 
\begin_inset Formula 
\[
\text{Hom}_{A}(N,\mathcal{E})=\text{Hom}_{A}(N,\mathcal{E}')=\text{Hom}_{A/x}(N,\mathcal{E}').
\]

\end_inset

Taking homology, and taking into account the shift in numbering, we get
 the last statement of the proposition.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{rem}
\backslash
label{rem}
\end_layout

\end_inset

 Recall that if 
\begin_inset Formula $(A,\mathfrak{m})$
\end_inset

 is a local ring, 
\begin_inset Formula $M$
\end_inset

 is an 
\begin_inset Formula $A$
\end_inset

-module, and 
\begin_inset Formula $x\in\mathfrak{m}$
\end_inset

 is 
\begin_inset Formula $A$
\end_inset

-regular and 
\begin_inset Formula $M$
\end_inset

-regular, then 
\begin_inset Formula $\text{pd}_{A/x}(M/xM)=\text{pd}_{A}(M)$
\end_inset

.
 The idea behind that proof was to start with a minimal projective resolution
 of 
\begin_inset Formula $M$
\end_inset

,
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd}  
\backslash
mathcal{P} : 
\backslash
cdots 
\backslash
arrow[r] & P_2  
\backslash
arrow[r, "
\backslash
varphi _2 "] & P_1  
\backslash
arrow[r, " 
\backslash
varphi _1 "] & P_0 
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
and show that the sequence
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd}  
\backslash
mathcal{P} 
\backslash
otimes ( A/x ): 
\backslash
cdots 
\backslash
arrow[r] & P_2 / xP_2  
\backslash
arrow[r, "
\backslash
overline{ 
\backslash
varphi  }_2 "] & P_1 / xP_1  
\backslash
arrow[r, " 
\backslash
overline{ 
\backslash
varphi } _1 "] & P_0 /xP_0  
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
was a minimal projective resolution of 
\begin_inset Formula $M/xM$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{rem}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

To exploit this result, we need to know the modules of finite injective
 dimension over a zero-dimensional ring.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{prop}
\backslash
label{prop21.11}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a local Cohen-Macaulay ring.
 If 
\begin_inset Formula $M$
\end_inset

 is a maximal Cohen-Macaulay module of finite injective dimension, then
 
\begin_inset Formula $\text{id}_{A}(M)=\text{dim}(A)$
\end_inset

.
 If 
\begin_inset Formula $\text{dim}(A)=0$
\end_inset

, then 
\begin_inset Formula $M$
\end_inset

 is a direct sum of copies of 
\begin_inset Formula $\omega_{A}$
\end_inset

, and 
\begin_inset Formula $M\cong\omega_{A}$
\end_inset

 if and only if 
\begin_inset Formula $\text{End}_{A}(M)=A$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{prop}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 Suppose first that 
\begin_inset Formula $\text{dim}(A)=0$
\end_inset

.
 Let 
\begin_inset Formula $D=\text{Hom}_{A}(-,\omega_{A})$
\end_inset

 be the dualizing functor.
 If 
\begin_inset Formula $M$
\end_inset

 has finite injective dimension, then applying 
\begin_inset Formula $D$
\end_inset

 to an injective resolution of 
\begin_inset Formula $M$
\end_inset

 we see that 
\begin_inset Formula $D(M)$
\end_inset

 is a module of finite projective dimension, and is thus free by the Auslander-B
uchsbaum formula.
 Applying 
\begin_inset Formula $D$
\end_inset

 again we see that 
\begin_inset Formula $M\simeq D^{2}(M)$
\end_inset

 is a direct sum of copies of 
\begin_inset Formula $D(A)=\omega_{A}$
\end_inset

.
 Using 
\begin_inset Formula $D$
\end_inset

, we see that the endomorphism ring of 
\begin_inset Formula $\omega_{A}^{n}$
\end_inset

 is the same as the endomorphism ring of 
\begin_inset Formula $A^{n}$
\end_inset

.
 Thus it is equal to 
\begin_inset Formula $A$
\end_inset

 if and only if 
\begin_inset Formula $n=1$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

If 
\begin_inset Formula $\text{dim}(A)=d$
\end_inset

 is arbitrary, then we may choose a regular sequence 
\begin_inset Formula $x_{1},\dots,x_{d}$
\end_inset

 of 
\begin_inset Formula $A$
\end_inset

 that is a regular sequence on 
\begin_inset Formula $M$
\end_inset

, and use 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.10})
\end_layout

\end_inset

 to conclude that
\begin_inset Formula 
\begin{align*}
\text{id}_{A}(M) & =d+\text{id}_{A/\langle x_{1},\dots,x_{d}\rangle}\left(M/\langle x_{1},\dots,x_{d}\rangle M\right)\\
 & =d+0\\
 & =d.
\end{align*}

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{rem}
\backslash
label{rem}
\end_layout

\end_inset

 We can generalize some of 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop0.7})
\end_layout

\end_inset

 as follows: Let 
\begin_inset Formula $A$
\end_inset

 be a local Noetherian ring, and 
\begin_inset Formula $M$
\end_inset

 be a finitely generated 
\begin_inset Formula $A$
\end_inset

-module of finite injective dimension.
 Then 
\begin_inset Formula 
\[
\text{dim}(M)\leq\text{id}_{A}(M)=\text{depth}(A).
\]

\end_inset

For a proof of this, see my notes on Injective Modules.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{rem}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{prop}
\backslash
label{prop21.12}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a local Cohen-Macaulay ring of dimension 
\begin_inset Formula $d$
\end_inset

, and let 
\begin_inset Formula $M$
\end_inset

 be a maximal Cohen-Macaulay module of finite injective dimension.
 
\end_layout

\begin_layout Enumerate
If 
\begin_inset Formula $N$
\end_inset

 is a finitely generated 
\begin_inset Formula $A$
\end_inset

-module of depth 
\begin_inset Formula $e$
\end_inset

, then 
\begin_inset Formula $\text{Ext}_{A}^{j}(N,M)=0$
\end_inset

 for 
\begin_inset Formula $j>d-e$
\end_inset

.
 
\end_layout

\begin_layout Enumerate
If 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on 
\begin_inset Formula $M$
\end_inset

, then 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on 
\begin_inset Formula $\text{Hom}_{A}(N,M)$
\end_inset

.
 If 
\begin_inset Formula $N$
\end_inset

 is also a maximal Cohen-Macaulay module, then
\begin_inset Formula 
\[
\text{Hom}_{A}(N,M)/x\text{Hom}_{A}(N,M)\cong\text{Hom}_{A/x}(N/xN,M/xM)
\]

\end_inset

by the homomorphism taking the class of a map 
\begin_inset Formula $\varphi:N\to M$
\end_inset

 to the map 
\begin_inset Formula $N/xN\to M/xM$
\end_inset

 induced by 
\begin_inset Formula $\varphi$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{prop}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hfill
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
We do induction on 
\begin_inset Formula $e$
\end_inset

.
 By 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.11})
\end_layout

\end_inset

, the injective dimension of 
\begin_inset Formula $M$
\end_inset

 is 
\begin_inset Formula $d$
\end_inset

, so that 
\begin_inset Formula $\text{Ext}_{A}^{j}(N,M)=0$
\end_inset

 for any 
\begin_inset Formula $N$
\end_inset

 if 
\begin_inset Formula $j>d$
\end_inset

.
 This gives the case 
\begin_inset Formula $e=0$
\end_inset

.
 Now suppose 
\begin_inset Formula $e>0$
\end_inset

, and let 
\begin_inset Formula $x$
\end_inset

 be a nonzerodivisor on 
\begin_inset Formula $N$
\end_inset

 that lies in the maximal ideal of 
\begin_inset Formula $A$
\end_inset

.
 From the short exact sequence 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 0 
\backslash
arrow[r] & N 
\backslash
arrow[r, " 
\backslash
cdot x "]  & N 
\backslash
arrow[r]  & N/xN 
\backslash
arrow[r]  & 0 
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset

 we get a long exact sequence 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 
\backslash
cdots 
\backslash
arrow[r] & 
\backslash
text{Ext}_A ^j (N,M) 
\backslash
arrow[r, "
\backslash
cdot x "]  & 
\backslash
text{Ext}_A ^j (N,M) 
\backslash
arrow[r]  & 
\backslash
text{Ext}_A ^{j+1} (N/xN,M) 
\backslash
arrow[r]  & 
\backslash
cdots 
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset

The module 
\begin_inset Formula $N/xN$
\end_inset

 has depth 
\begin_inset Formula $e-1$
\end_inset

, so by induction 
\begin_inset Formula $\text{Ext}_{A}^{j+1}(N/xN,M)$
\end_inset

 vanishes if 
\begin_inset Formula $j+1>d-(e-1)$
\end_inset

, that is, if 
\begin_inset Formula $j>d-e$
\end_inset

.
 By Nakayama's lemma, 
\begin_inset Formula $\text{Ext}_{A}^{j}(N,M)$
\end_inset

 vanishes if 
\begin_inset Formula $j>d-e$
\end_inset

.
 
\end_layout

\begin_layout Enumerate
From the short exact sequence 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 0 
\backslash
arrow[r] & M 
\backslash
arrow[r, " 
\backslash
cdot x "]  & M 
\backslash
arrow[r]  & M/xM 
\backslash
arrow[r]  & 0 
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset

we derive a long exact sequence beginning 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 0 
\backslash
arrow[r] & 
\backslash
text{Hom}_A (N,M) 
\backslash
arrow[r, " 
\backslash
cdot x "]  & 
\backslash
text{Hom}_A (N,M) 
\backslash
arrow[r]  & 
\backslash
text{Hom}_A (N,M/xM) 
\backslash
arrow[r]  & 
\backslash
text{Ext}_A ^1 (N,M) 
\backslash
arrow[r] & 
\backslash
cdots 
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset

 Thus 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on 
\begin_inset Formula $\text{Hom}_{A}(N,M)$
\end_inset

.
 If 
\begin_inset Formula $N$
\end_inset

 is a maximal Cohen-Macaulay module then 
\begin_inset Formula $\text{depth}(N)=d$
\end_inset

, so 
\begin_inset Formula $\text{Ext}_{A}^{1}(N,M)=0$
\end_inset

 by part 1.
 Every homomorphism 
\begin_inset Formula $N\to M/xM$
\end_inset

 factors uniquely through 
\begin_inset Formula $N/xN$
\end_inset

, so 
\begin_inset Formula $\text{Hom}_{A}(N,M/xM)=\text{Hom}_{A}(N/xN,M/xM)$
\end_inset

.
 The short exact sequence above thus becomes 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 0 
\backslash
arrow[r] & 
\backslash
text{Hom}_A (N,M) 
\backslash
arrow[r, " 
\backslash
cdot x "]  & 
\backslash
text{Hom}_A (N,M) 
\backslash
arrow[r]  & 
\backslash
text{Hom}_A (N/xN,M/xM) 
\backslash
arrow[r]  & 0 
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset

 Since 
\begin_inset Formula $\text{Hom}_{A}(M/xM,N/xN)=\text{Hom}_{A/x}(N/xN,M/xM)$
\end_inset

, this proves part 2.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{prop}
\backslash
label{prop21.13}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a local ring, and let 
\begin_inset Formula $M$
\end_inset

 and 
\begin_inset Formula $N$
\end_inset

 be finitely generated 
\begin_inset Formula $A$
\end_inset

-modules.
 Suppose that 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on 
\begin_inset Formula $M$
\end_inset

 and that 
\begin_inset Formula $x$
\end_inset

 is in the maximal ideal of 
\begin_inset Formula $A$
\end_inset

.
 If 
\begin_inset Formula $\varphi:N\to M$
\end_inset

 is a map and 
\begin_inset Formula $\overline{\varphi}:N/xN\to M/xM$
\end_inset

 is the map induced by 
\begin_inset Formula $\varphi$
\end_inset

, then 
\end_layout

\begin_layout Enumerate
If 
\begin_inset Formula $\overline{\varphi}$
\end_inset

 is an epimorphism, then 
\begin_inset Formula $\varphi$
\end_inset

 is an epimorhpism.
\end_layout

\begin_layout Enumerate
If 
\begin_inset Formula $\overline{\varphi}$
\end_inset

 is a monomorphism, then 
\begin_inset Formula $\varphi$
\end_inset

 is a monomorphism.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{prop}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hfill
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
If 
\begin_inset Formula $\overline{\varphi}$
\end_inset

 is an epimorphism, then 
\begin_inset Formula $\varphi$
\end_inset

 is an epimorphism by Nakayama's lemma.
 
\end_layout

\begin_layout Enumerate
Suppose 
\begin_inset Formula $\overline{\varphi}$
\end_inset

 is a monomorphism, and let 
\begin_inset Formula $J=\text{Ker}(\varphi)$
\end_inset

.
 Since 
\begin_inset Formula $J$
\end_inset

 goes to zero in 
\begin_inset Formula $N/xN$
\end_inset

, we must have 
\begin_inset Formula $J\subset xN$
\end_inset

.
 On the other hand, since 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on the image of 
\begin_inset Formula $\varphi$
\end_inset

, we have 
\begin_inset Formula $J:_{N}x=J$
\end_inset

.
 To see this, note that 
\begin_inset Formula $n\in J:_{N}x$
\end_inset

 implies 
\begin_inset Formula $xn\in J$
\end_inset

, thus 
\begin_inset Formula 
\[
0=\varphi(xn)=x\varphi(n).
\]

\end_inset

Then 
\begin_inset Formula $x$
\end_inset

 being a nonzerodivisor on the image of 
\begin_inset Formula $\varphi$
\end_inset

 implies 
\begin_inset Formula $\varphi(n)=0$
\end_inset

, or 
\begin_inset Formula $n\in J$
\end_inset

.
 So 
\begin_inset Formula $J:_{N}x=J$
\end_inset

 and 
\begin_inset Formula $J\subset xN$
\end_inset

 implies 
\begin_inset Formula $xJ=J$
\end_inset

, and so 
\begin_inset Formula $J=0$
\end_inset

 by Nakayama's lemma.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{theorem}
\backslash
label{theorem}
\end_layout

\end_inset

 Let 
\begin_inset Formula $A$
\end_inset

 be a local Cohen-Macaulay ring of dimension 
\begin_inset Formula $d$
\end_inset

, and let 
\begin_inset Formula $W$
\end_inset

 be a finitely generated 
\begin_inset Formula $A$
\end_inset

-module.
 Then 
\begin_inset Formula $W$
\end_inset

 is a canonical module for 
\begin_inset Formula $A$
\end_inset

 if and only if
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\textmd{depth}(W)=d$
\end_inset

.
 
\end_layout

\begin_layout Enumerate
\begin_inset Formula $W$
\end_inset

 is a module of finite injective dimension (necessarily equal to 
\begin_inset Formula $d$
\end_inset

).
 
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\text{End}_{A}(W)=A$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{theorem}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 First suppose that 
\begin_inset Formula $W$
\end_inset

 is a canonical module.
 We do induction on the dimension of 
\begin_inset Formula $A$
\end_inset

.
 Suppose 
\begin_inset Formula $\text{dim}(A)=0$
\end_inset

.
 Then condition 1 is vacuous, since 
\begin_inset Formula $\text{depth}(W)\leq\text{dim}(A)$
\end_inset

.
 Also, condition 2 is satisfied because 
\begin_inset Formula $W=\omega_{A}$
\end_inset

 is injective.
 Lastly, condition 3 follows because, by duality
\begin_inset Formula 
\begin{align*}
\text{End}_{A}(\omega_{A}) & \cong\text{End}_{A}(D(\omega_{A}))\\
 & \cong\text{End}_{A}(A)\\
 & \cong A.
\end{align*}

\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Now suppose 
\begin_inset Formula $\text{dim}(A)>0$
\end_inset

, and let 
\begin_inset Formula $x$
\end_inset

 be a nonzerodivisor.
 By hypothesis, 
\begin_inset Formula $W/xW$
\end_inset

 is a canonical module over 
\begin_inset Formula $A/x$
\end_inset

, and by induction it satisfies conditions 1,2, and 3 as an 
\begin_inset Formula $(A/x)$
\end_inset

-module.
 Since 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on 
\begin_inset Formula $W$
\end_inset

 and 
\begin_inset Formula $W/xW$
\end_inset

 has depth 
\begin_inset Formula $d-1$
\end_inset

, condition 1 is satisfied.
 By 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.10})
\end_layout

\end_inset

, 
\begin_inset Formula $W$
\end_inset

 has finite injective dimension, in particular
\begin_inset Formula 
\[
d-1=\text{id}_{A/x}(W/xW)=\text{id}_{A}(W)-1.
\]

\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Let 
\begin_inset Formula $B=\text{End}_{A}(W)$
\end_inset

, and consider the natural map 
\begin_inset Formula $\varphi:A\to B$
\end_inset

 sending each element 
\begin_inset Formula $a\in A$
\end_inset

 to the map 
\begin_inset Formula $m_{a}\in\text{End}_{A}(W)$
\end_inset

, where 
\begin_inset Formula $m_{a}(w)=aw$
\end_inset

 for all 
\begin_inset Formula $w\in W$
\end_inset

.
 We must show that 
\begin_inset Formula $\varphi$
\end_inset

 is an isomorphism.
 By 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.12})
\end_layout

\end_inset

, 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on 
\begin_inset Formula $B$
\end_inset

, and 
\begin_inset Formula $B/xB=\text{End}_{A/x}(W/xW)=A/x$
\end_inset

.
 Thus by induction the map 
\begin_inset Formula $\varphi$
\end_inset

 induces an isomorhpism 
\begin_inset Formula $A/xA\to B/xB$
\end_inset

.
 It follows from 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.10})
\end_layout

\end_inset

 that 
\begin_inset Formula $\varphi$
\end_inset

 is an isomorphism.
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Next suppose that 
\begin_inset Formula $W$
\end_inset

 is an 
\begin_inset Formula $A$
\end_inset

-module satisfying conditions 1,2, and 3.
 Again, we do induction on 
\begin_inset Formula $\text{dim}(A)$
\end_inset

.
 In case 
\begin_inset Formula $\text{dim}(A)=0$
\end_inset

 we must show that 
\begin_inset Formula $W=\omega_{A}$
\end_inset

.
 By 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.11})
\end_layout

\end_inset

, this follows from conditions 2 and 3.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Now suppose that 
\begin_inset Formula $\text{dim}(A)>0$
\end_inset

, and let 
\begin_inset Formula $x$
\end_inset

 be a nonzerodivisor in 
\begin_inset Formula $A$
\end_inset

.
 The element 
\begin_inset Formula $x$
\end_inset

 is also a nonzerodivisor on 
\begin_inset Formula $W$
\end_inset

 by 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.9})
\end_layout

\end_inset

, so 
\begin_inset Formula $W/xW$
\end_inset

 has depth 
\begin_inset Formula $d-1$
\end_inset

 over 
\begin_inset Formula $A/x$
\end_inset

.
 By 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.10})
\end_layout

\end_inset

, 
\begin_inset Formula $\text{id}_{A/x}(W/xW)<\infty$
\end_inset

, and by 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.12})
\end_layout

\end_inset

, 
\begin_inset Formula $\text{End}_{A/x}(W/xW)=\text{End}_{A}(W)/x\text{End}_{A}(W)=A/x$
\end_inset

.
 Thus, 
\begin_inset Formula $W/xW$
\end_inset

 is a canonical module for 
\begin_inset Formula $A/x$
\end_inset

 by induction, and 
\begin_inset Formula $W$
\end_inset

 is a canonical module for 
\begin_inset Formula $A$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Section*
Uniqueness and (Often) Existence
\end_layout

\begin_layout Standard
These results imply a strong uniqueness result.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{cor}
\backslash
label{cor}
\end_layout

\end_inset

 (Uniqueness of canonical modules).
 Let 
\begin_inset Formula $A$
\end_inset

 be a local Cohen-Macualay ring with a canonical module 
\begin_inset Formula $W$
\end_inset

.
 If 
\begin_inset Formula $M$
\end_inset

 is any finitely generated maximal Cohen-Macaulay 
\begin_inset Formula $A$
\end_inset

-module of finite injective dimension, then 
\begin_inset Formula $M$
\end_inset

 is a direct sum of copies of 
\begin_inset Formula $W$
\end_inset

.
 In particular, any two canonical module of 
\begin_inset Formula $A$
\end_inset

 are isomorphic.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{cor}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 We do induction on 
\begin_inset Formula $\text{dim}(A)$
\end_inset

, the case 
\begin_inset Formula $\text{dim}(A)=0$
\end_inset

 being 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.11})
\end_layout

\end_inset

.
 If 
\begin_inset Formula $x\in A$
\end_inset

 is a nonzerodivisor, then 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on 
\begin_inset Formula $W$
\end_inset

 and on 
\begin_inset Formula $M$
\end_inset

, and 
\begin_inset Formula $M/xM\cong(W/xW)^{n}$
\end_inset

 for some 
\begin_inset Formula $n$
\end_inset

 by induction.
 By 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.13})
\end_layout

\end_inset

, there is an isomorphism 
\begin_inset Formula $M\cong W^{n}$
\end_inset

.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Henceforth, we shall write 
\begin_inset Formula $\omega_{A}$
\end_inset

 for a canonical module of 
\begin_inset Formula $A$
\end_inset

 (if one exists).
 We now come to the question of existence.
 We have already seen that if 
\begin_inset Formula $R$
\end_inset

 is a regular local ring, then 
\begin_inset Formula $R$
\end_inset

 has canonical module 
\begin_inset Formula $\omega_{R}=R$
\end_inset

.
 We shall now show that if 
\begin_inset Formula $A$
\end_inset

 is a homomorhpic image of a local ring with a canonical module, then 
\begin_inset Formula $A$
\end_inset

 has a canonical module too.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{theorem}
\backslash
label{theorem}
\end_layout

\end_inset

 (Construction of canonical modules).
 Let 
\begin_inset Formula $(R,\mathfrak{m})$
\end_inset

 be a local Cohen-Macaulay ring with canonical module 
\begin_inset Formula $\omega_{R}$
\end_inset

.
 If 
\begin_inset Formula $A$
\end_inset

 is a local 
\begin_inset Formula $R$
\end_inset

-algebra that is finitely generated as an 
\begin_inset Formula $R$
\end_inset

-module, and 
\begin_inset Formula $A$
\end_inset

 is Cohen-Macaulay, then 
\begin_inset Formula $A$
\end_inset

 has a canonical module.
 In fact, if 
\begin_inset Formula $c=\text{dim}(R)-\text{dim}(A)$
\end_inset

, then
\begin_inset Formula 
\[
\omega_{A}\cong\text{Ext}_{R}^{c}(A,\omega_{R})
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{theorem}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{proof}
\end_layout

\end_inset

 We shall do induction on 
\begin_inset Formula $\text{dim}(A)$
\end_inset

.
 First suppose that 
\begin_inset Formula $\text{dim}(A)=0$
\end_inset

.
 In this case, 
\begin_inset Formula $c$
\end_inset

 is the dimension of 
\begin_inset Formula $R$
\end_inset

.
 The annihilator of 
\begin_inset Formula $A$
\end_inset

 contains a power of the maximal ideal of 
\begin_inset Formula $R$
\end_inset

, say 
\begin_inset Formula $\mathfrak{m}^{n}$
\end_inset

.
 Since 
\begin_inset Formula $\text{depth}\left(\mathfrak{m}^{n},R\right)=\text{depth}(\mathfrak{m})$
\end_inset

, we may choose a regular sequence 
\begin_inset Formula $x_{1},\dots,x_{c}$
\end_inset

 of length 
\begin_inset Formula $c$
\end_inset

 in the annihilator of 
\begin_inset Formula $A$
\end_inset

.
 Let 
\begin_inset Formula $R'=R/\langle x_{1},\dots,x_{c}\rangle$
\end_inset

.
 Then 
\begin_inset Formula $R'$
\end_inset

 is a local Cohen-Macaulay ring of dimension 
\begin_inset Formula $0$
\end_inset

, and 
\begin_inset Formula $A$
\end_inset

 is a finitely generated 
\begin_inset Formula $R'$
\end_inset

-module.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

By definition, 
\begin_inset Formula $\omega_{R}/\langle x_{1},\dots,x_{c}\rangle\omega_{R}$
\end_inset

 is a canonical module for 
\begin_inset Formula $R'$
\end_inset

, for which we shall write 
\begin_inset Formula $\omega_{R'}$
\end_inset

.
 By 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.10})
\end_layout

\end_inset

, applied 
\begin_inset Formula $c$
\end_inset

 times, 
\begin_inset Formula 
\[
\text{Ext}_{R}^{c}(A,\omega_{R})\cong\text{Ext}_{R'}^{0}(A,\omega_{R'})=\text{Hom}_{R'}(A,\omega_{R'}).
\]

\end_inset


\end_layout

\begin_layout Standard
By 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.4})
\end_layout

\end_inset

, this is a canonical module for 
\begin_inset Formula $A$
\end_inset

, as required.
 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Now suppose 
\begin_inset Formula $\text{dim}(A)>0$
\end_inset

.
 It suffices to show that if 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on 
\begin_inset Formula $A$
\end_inset

, then 
\begin_inset Formula $x$
\end_inset

 is a nonzerodivisor on 
\begin_inset Formula $\text{Ext}_{R}^{c}(A,\omega_{R})$
\end_inset

 and 
\begin_inset Formula $\text{Ext}_{R}^{c}(A,\omega_{R})/x\text{Ext}_{R}^{c}(A,\omega_{R})$
\end_inset

 is a canonical module for 
\begin_inset Formula $A/x$
\end_inset

.
 The short exact sequence 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 0 
\backslash
arrow[r] & A 
\backslash
arrow[r, "
\backslash
cdot x "]  & A 
\backslash
arrow[r]  & A/x 
\backslash
arrow[r]  & 0 
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
gives rise to a long exact sequence in Ext of which a part is 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\backslash
begin{tikzcd} 
\backslash
cdots 
\backslash
arrow[r] & 
\backslash
text{Ext}_R ^c (A/x, 
\backslash
omega _R ) 
\backslash
arrow[r,]  & 
\backslash
text{Ext}_R ^c (A, 
\backslash
omega _R ) 
\backslash
arrow[r, "
\backslash
cdot x "]  & 
\backslash
text{Ext}_R ^c (A, 
\backslash
omega _R ) 
\backslash
arrow[r]  & 
\backslash
text{Ext}_R ^{c+1} (A/x, 
\backslash
omega _R ) 
\backslash
arrow[r] & 
\backslash
text{Ext}_R ^{c+1} (A, 
\backslash
omega _R ) 
\backslash
arrow[r] & 
\backslash
cdots 
\backslash
end{tikzcd}
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
By induction, 
\begin_inset Formula $\text{Ext}_{R}^{c+1}(A/x,\omega_{R})$
\end_inset

 is a canonical module for 
\begin_inset Formula $A/x$
\end_inset

, so it suffices to show that the outer terms are 
\begin_inset Formula $0$
\end_inset

, which we may do as follows: 
\end_layout

\begin_layout Standard
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Set 
\begin_inset Formula $I=\text{Ann}_{R}(A)$
\end_inset

.
 The ring 
\begin_inset Formula $A/x$
\end_inset

 is annihilated by 
\begin_inset Formula $\langle I,x\rangle$
\end_inset

, which has depth 
\begin_inset Formula $c+1$
\end_inset

 in 
\begin_inset Formula $R$
\end_inset

.
 Thus, 
\begin_inset Formula $\text{Ext}_{R}^{c}(A/x,\omega_{R})=0$
\end_inset

.
 The ring 
\begin_inset Formula $A$
\end_inset

, being Cohen-Macaulay, has depth equal to 
\begin_inset Formula $\text{dim}(R)-c$
\end_inset

, so 
\begin_inset Formula $\text{Ext}_{R}^{c+1}(A,\omega_{R})=0$
\end_inset

 by 
\begin_inset ERT
status open

\begin_layout Plain Layout

Proposition~(
\backslash
ref{prop21.12})
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{proof}
\end_layout

\end_inset


\end_layout

\end_body
\end_document
